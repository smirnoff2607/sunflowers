<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Todo saldrá bien, mi amor</title>
<style>
  :root{
    --bg1:#05070b;
    --bg2:#0b1220;
    --text:#ffe36e;
    --sub:#ffffffcc;
  }
  html,body{
    height:100%;
    margin:0;
    background: radial-gradient(1200px 800px at 50% 80%, var(--bg2), var(--bg1) 60%);
    overflow:hidden;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  }
  /* Capa del mensaje */
  .message{
    position:fixed;
    inset:0;
    display:grid;
    place-items:center;
    text-align:center;
    pointer-events:none;
    padding:24px;
  }
  h1{
    margin:0;
    font-size: clamp(24px, 6vw, 48px);
    line-height:1.15;
    letter-spacing:.5px;
    color:var(--text);
    text-shadow: 0 0 12px #000, 0 0 30px #0008;
  }
  p{
    margin:.5rem 0 0;
    font-size:clamp(12px, 2.8vw, 16px);
    color:var(--sub);
    text-shadow: 0 0 10px #000a;
  }

  /* Canvas de estrellas */
  canvas{
    position:fixed;
    inset:0;
    width:100%;
    height:100%;
    display:block;
  }

  /* Suelo/plantitas opcional para darle vida */
  .grass{
    position:fixed;
    left:50%;
    bottom:-2vmin;
    translate:-50% 0;
    filter: drop-shadow(0 6px 12px #0007);
    opacity:.95;
  }
  .grass svg{
    width:min(72vmin, 520px);
    height:auto;
  }
</style>
</head>
<body>
  <canvas id="sky" aria-hidden="true"></canvas>

  <div class="message" aria-label="Mensaje de ánimo">
    <div>
      <h1>todo saldrá bien mi amor</h1>
      <p>pide un deseo cuando pase una estrella fugaz ✨</p>
    </div>
  </div>

  <!-- Plantitas simples en SVG (opcional/decorativo). Puedes borrar este bloque si no lo quieres. -->
  <div class="grass" aria-hidden="true">
    <svg viewBox="0 0 600 200" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="g" x1="0" x2="0" y1="0" y2="1">
          <stop stop-color="#2ee66f" offset="0"/>
          <stop stop-color="#138a45" offset="1"/>
        </linearGradient>
      </defs>
      <g transform="translate(0,10)">
        <ellipse cx="300" cy="170" rx="260" ry="28" fill="#00000060"/>
        <!-- hojas -->
        <g fill="url(#g)" stroke="#0a5e32" stroke-width="2">
          <path d="M300 170 q-16 -60 0 -130 q16 70 0 130z"/>
          <path d="M330 170 q-12 -45 6 -102 q6 66 -6 102z"/>
          <path d="M270 170 q12 -45 -6 -102 q-6 66 6 102z"/>
          <path d="M354 170 q-8 -36 16 -86 q0 58 -16 86z"/>
          <path d="M246 170 q8 -36 -16 -86 q0 58 16 86z"/>
          <path d="M382 170 q-5 -28 26 -70 q-6 49 -26 70z"/>
          <path d="M218 170 q5 -28 -26 -70 q6 49 26 70z"/>
        </g>
        <!-- florecitas -->
        <g transform="translate(300,95) scale(1.1)">
          <g transform="translate(-70,0)">
            <circle r="22" fill="#ffef6e" stroke="#e6b400" stroke-width="3"/>
            <circle r="8"  fill="#ff8c2a"/>
          </g>
          <g>
            <circle r="24" fill="#ffef6e" stroke="#e6b400" stroke-width="3"/>
            <circle r="9"  fill="#ff8c2a"/>
          </g>
          <g transform="translate(70,0)">
            <circle r="22" fill="#ffef6e" stroke="#e6b400" stroke-width="3"/>
            <circle r="8"  fill="#ff8c2a"/>
          </g>
        </g>
      </g>
    </svg>
  </div>

<script>
(() => {
  const canvas = document.getElementById('sky');
  const ctx = canvas.getContext('2d', { alpha: false });

  // Ajuste de tamaño con DPR
  function resize() {
    const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    canvas.width  = Math.floor(window.innerWidth * dpr);
    canvas.height = Math.floor(window.innerHeight * dpr);
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }
  resize();
  addEventListener('resize', resize);

  // Generación de estrellas
  const STAR_COUNT = 180;     // cantidad base
  const stars = [];
  for (let i = 0; i < STAR_COUNT; i++) {
    stars.push({
      x: Math.random() * innerWidth,
      y: Math.random() * innerHeight,
      r: Math.random() * 1.4 + 0.3,     // radio
      tw: Math.random() * 2 * Math.PI,  // fase de parpadeo
      z: Math.random() * 1.5 + 0.5      // “profundidad/parallax”
    });
  }

  // Estrellas fugaces
  const meteors = [];
  function spawnMeteor() {
    const fromTop = Math.random() < 0.5;
    const startX = Math.random() * innerWidth * 0.8 + innerWidth * 0.1;
    const startY = fromTop ? -40 : Math.random() * innerHeight * 0.3 + 20;
    const speed = Math.random() * 2 + 3; // px/frame
    meteors.push({
      x: startX, y: startY,
      vx: -speed * (0.8 + Math.random()*0.5), // diagonal
      vy: speed * (0.25 + Math.random()*0.35),
      life: 0, maxLife: 160 + Math.random()*120
    });
  }

  // Intervalo aleatorio de meteoros
  let nextMeteor = 0;

  // Animación
  function draw(time) {
    // Fondo
    ctx.fillStyle = '#070b14';
    ctx.fillRect(0, 0, innerWidth, innerHeight);

    // Estrellas
    for (const s of stars) {
      // desplazamiento suave para simular parallax
      s.x -= 0.02 * s.z;
      if (s.x < -2) s.x = innerWidth + 2;

      s.tw += 0.02 + s.z * 0.005;
      const alpha = 0.6 + Math.sin(s.tw) * 0.35; // parpadeo

      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(255,255,255,${alpha})`;
      ctx.fill();
    }

    // Crear meteoros en tiempos semi-aleatorios
    if (time > nextMeteor) {
      spawnMeteor();
      nextMeteor = time + (1500 + Math.random() * 3500); // entre ~1.5–5 s
    }

    // Dibujar meteoros
    for (let i = meteors.length - 1; i >= 0; i--) {
      const m = meteors[i];
      m.x += m.vx;
      m.y += m.vy;
      m.life++;

      // cola
      const tail = 60;
      const grad = ctx.createLinearGradient(m.x, m.y, m.x - m.vx * 8, m.y - m.vy * 8);
      grad.addColorStop(0, 'rgba(255,255,255,0.95)');
      grad.addColorStop(1, 'rgba(255,255,255,0)');

      ctx.strokeStyle = grad;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(m.x, m.y);
      ctx.lineTo(m.x - m.vx * (tail/10), m.y - m.vy * (tail/10));
      ctx.stroke();

      // cabeza
      ctx.fillStyle = 'white';
      ctx.beginPath();
      ctx.arc(m.x, m.y, 1.6, 0, Math.PI * 2);
      ctx.fill();

      if (m.life > m.maxLife || m.x < -100 || m.y > innerHeight + 100) {
        meteors.splice(i, 1);
      }
    }

    requestAnimationFrame(draw);
  }
  requestAnimationFrame(draw);
})();
</script>
</body>
</html>
